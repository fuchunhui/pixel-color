import{d as b,o as y,c as C,r as V,n as W,a as Y,t as P,b as u,e as d,w as j,f as q,g as G,u as M,h as S,i as N,j as K,v as Z,k as J,l as Q}from"./vendor.3668cd27.js";const ee=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))p(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&p(i)}).observe(document,{childList:!0,subtree:!0});function f(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function p(s){if(s.ep)return;s.ep=!0;const o=f(s);fetch(s.href,o)}};ee();const te=b({props:{label:{type:String,default:"\u63D0\u4EA4"},disabled:{type:Boolean,default:!1}},setup(h){return(c,f)=>(y(),C("button",{class:W(["color-button",{disabled:h.disabled}])},[V(c.$slots,"default",{},()=>[Y(P(h.label),1)])],2))}});const ae={class:"color-file-upload"},oe={class:"file-button"},se=u("i",{class:"file-glyphicon"},null,-1),ne=u("span",null,"UPLOAD FILE",-1),re=u("i",{class:"file-tips"},"Drop files here to upload",-1),le=[re],ce=b({emits:["change"],setup(h,{emit:c}){const f=e=>{const l=e.target.files;if(!l)return!1;_(l)},p=e=>{e.stopPropagation(),e.preventDefault()},s=e=>{e.stopPropagation(),e.preventDefault()},o=e=>{e.stopPropagation(),e.preventDefault();const l=e.dataTransfer.files;_(l)},i=e=>{e.stopPropagation(),e.preventDefault();const l=e.clipboardData.files;_(l)},m=1*1024*1024,D=/^image\//,_=e=>{if(e.length!==1)return v("\u4E0D\u652F\u6301\u591A\u4E2A\u6587\u4EF6\u540C\u65F6\u64CD\u4F5C\uFF0C\u8BF7\u4EC5\u9009\u62E9\u5355\u4E2A\u6587\u4EF6"),!1;const l=e[0],{name:E,size:w,type:$}=l;if(!D.test($))return v(`\u5F53\u524D\u6587\u4EF6\u7C7B\u578B\u4E3A${$}\uFF0C\u7C7B\u578B\u4E0D\u7B26\uFF0C\u8BF7\u9009\u62E9\u56FE\u7247\u7C7B\u578B\uFF01`),!1;if(w>m)return v("\u6587\u4EF6\u8D85\u8FC7\u6700\u5927\u9650\u52361M\uFF0C\u8BF7\u91CD\u65B0\u9009\u62E9"),!1;const F=new FileReader;F.onload=B=>{const A=B.target.result;x(E,A)},F.onerror=()=>{v(F.error.message)},F.readAsDataURL(l)},v=e=>{alert(e)},x=(e,l)=>{c("change",{name:e,base64:l})};return(e,l)=>(y(),C("div",ae,[u("div",oe,[se,ne,u("input",{class:"file-input",type:"file",name:"file",accept:"image/*",title:"",onChange:f},null,32)]),u("div",{class:"file-area",draggable:!0,contenteditable:!0,onDragenter:p,onDragover:s,onDrop:o,onPaste:i},le,32)]))}});const ue={class:"container"},ie={key:0,class:"container-wall"},de={key:1,class:"container-wraper"},fe={class:"container-area"},ve={class:"container-footer"},pe=b({setup(h){const c=d(!0),f=d(0),p=d(0),s=d(""),o=new Image,i=d(null),m=d(!1),D=d(null),_=d("#3F3F3F"),v=d("#3F3F3F"),x=d(!1),e=100,l=100,E=5,w=()=>{o.onload=()=>{const t=i.value;t.width=o.naturalWidth,t.height=o.naturalHeight,f.value=o.naturalWidth,p.value=o.naturalHeight,$()},o.onerror=t=>{console.error(t)}},$=()=>{i.value.getContext("2d").drawImage(o,0,0)},F=t=>{const{0:a,1:n,2:r,3:g}=t.data;return`rgba(${a}, ${n}, ${r}, ${g/255})`},B=t=>{const a=L=>L.toString(16),{0:n,1:r,2:g,3:I}=t.data;return`#${a(n)}${a(r)}${a(g)}${a(I)}`.toUpperCase()},A=async t=>{const{offsetX:a,offsetY:n}=t;if(a<0||n<0)return;m.value=!0,O(a,n);const r=k(a,n);_.value=r},O=(t,a)=>{const n=i.value,r=D.value;r.style.left=`${t+E}px`,r.style.top=`${a+E}px`;const g=r.getContext("2d"),I=Math.min(Math.max(0,t-5),n.width-10),L=Math.min(Math.max(0,a-5),n.height-10);g.drawImage(n,I,L,10,10,0,0,e,l)},R=()=>{m.value=!1,_.value="#3F3F3F"},T=t=>{const{offsetX:a,offsetY:n}=t;if(a<0||n<0)return;const r=k(a,n);v.value=r},k=(t,a)=>{const g=i.value.getContext("2d").getImageData(t,a,1,1);return x.value?B(g):F(g)},H=t=>{navigator.clipboard.writeText(t).then(a=>{console.log(`${t} \u590D\u5236\u6210\u529F`)}).catch(a=>{console.error(a)})};j(v,t=>{H(t)});const U=({name:t,base64:a})=>{c.value=!1,s.value=t,o.src=a},X=()=>{c.value=!0,m.value=!1,s.value="",f.value=0,p.value=0,_.value="#3F3F3F",v.value="#3F3F3F"},z=q(()=>c.value?"\u6574\u4E00\u5F20\u56FE\u7247\u4E0A\u6765\u5427":`${s.value} ${f.value} * ${p.value}`);return G(()=>{w()}),(t,a)=>(y(),C("div",ue,[u("div",{class:"container-header",style:S({color:_.value})},[u("p",null,P(M(z)),1),u("div",{class:"container-active",style:S({backgroundColor:v.value})},null,4)],4),c.value?(y(),C("div",ie,[N(M(ce),{onChange:U})])):(y(),C("div",de,[u("div",fe,[u("canvas",{ref:(n,r)=>{r.canvasRef=n,i.value=n},onMousemove:A,onMouseleave:R,onClick:T},null,544),K(u("canvas",{ref:(n,r)=>{r.layerRef=n,D.value=n},class:"container-layer",width:e,height:l},null,512),[[Z,m.value]])])])),u("footer",ve,[N(M(te),{label:"\u91CD\u7F6E",u:"primary",onClick:X})])]))}});const _e=b({setup(h){return(c,f)=>(y(),J(pe))}});Q(_e).mount("#app");
